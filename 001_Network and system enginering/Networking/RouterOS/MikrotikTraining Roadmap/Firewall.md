---
Category: Information
tags:
  - information
  - draft
---
---
###### External links
- 
---
## Description


---
## Firewall
По базе правило в фаерволе состоит из условия и действия, где условия:
- general *
- advanced **
- extra ***
и действия:
- action

- *Понятное дело шо все срабатывает по-порядку. НО, ЦЕПОЧКИ РАБОТАЮТ ОТДЕЛЬНО, то есть **инпут трафик, например, не будет проверяться - а форвард ли я трафик?**, это все просто напросто в отдельных местах проходится по фильтру.*
- *Если пакет попал под правило и действие связанно с каким-то конкретным действием, дальше по цепочке пакет не обрабатывается.*
- *по бузе нужно помнить, что сначала в прероутинге срабатывает дст-нат а потом роутинг десижн, то есть понимает на какой интерфейс или куда попадет пакет, и после этого мы уже опираемся на тип цепочки.*
- 

#### Actions:
- reject - как дроп, только в ответ отправляет еще icmp сообщение выбранное (удобно, вот к примеру если на сайт стучаться, то он просто будет в трубу, а так, можно сделать что бы сразц ответ гамна какой-то приходил).
- пассру - тупо счетчик
- log - лог
- return - возврат из цепочки
- tarpit - в тсп на СИН отвечает СИН+АКК с нулевым окном. (*Он конечно прикольный, но использовать его редко, и в наружу как бы тоже не желательно. По сути может типо имитировать работу службы. Вот в примере было, что бот хочет пофлудить а мы его в тарпит и он на нём будет висеть, вместо того что мы его дропнем, он поменяет айпишник и будет с другого.*)
- jump - перекидует трафик на созданную цепочку, он проходит по ней и потом возвращается на изначальную (*и получается какие то правила могут иметь кастомную цепочку, и остальные не будут там проверятся, в тупую оптимизация*)
- return - применяется к цепочке кастомной - возврат из цепочки (не знаю шото он не то говорит, но как я понимаю это не просто выйти, а для определённого пакета выйти удобно будет, а так он все равно возвращается в конце из цепочки до момента после джампа).
- 

*Интересная штука, что reject - это работа для роутера, и просто видя что роутер отвечает режектами, можно его в тупую зафлудить. Короче как минимум желательно его не юзать в наружу.*

*Для айсиэмпи хорошей практикой есть сделать для него отдельную цепочку и делать разные ответы в **ICMP options***

## NAT



---
## Notes


---
